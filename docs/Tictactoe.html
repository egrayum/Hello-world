<html>
 <head>
  <canvas id="gameCanvas" style="background: #888; width: 100%; height: 100%; text-align: center;">
  <script>
   var c = document.getElementById("gameCanvas");
   var ctx = c.getContext("2d");
   var i;
   var command = "none";
   var key;
   var play = false;
   var display = "start";
   var spots = [];
   var turn = "player";
   var found = false;
   alert("version 0.05");
   document.addEventListener("keydown", function(event) {
    if (event.keyCode == 55) {
     command = "/";
    } else if (event.keyCode == 13) {
     key = 1;
    } else if (event.keyCode == 8) {
     command = "none";
    } else if (event.keyCode > 48 && event.keyCode < 58) {
     if (turn == "player" && play == true) {
      found = false;
      for (i = 0; i < spots.length; i++) {
       if (spots[i] == event.key) {
        found = true;
       }
      }
      if (found == false) { 
       spots.push(event.key);
       spots.push("X");
       turn = "bot";
       // bot
       turn = "player";
      }
     }
    } else {
     command += event.key;
    }
   })
   function init() {
    c.width = 800;
    c.height = 600;
    // draws the board
    drawBoard();
    window.setInterval(game, 20);
   }
   function game() {
    ctx.fillStyle = "#888";
    ctx.fillRect(0, 0, c.width, c.height);
    drawBoard();
    if (command != "none") {
     ctx.font = "30px Arial";
     ctx.fillStyle = "#222";
     ctx.fillText(command, 545, 535);
    }
    if (key == 1) {
     if (command == "/commands") {
       display = "list";
     } else if (command == "/startgame") {
      play = true;
      alert(play);
     }
     command = "none";
     key = 0;
    }
   }
   function drawBoard() {
    ctx.fillStyle = "#222";
    ctx.fillRect(25, 50, 500, 500);
    ctx.fillStyle = "#888";
    ctx.fillRect(29, 54, 492, 492);
    ctx.fillStyle = "#222";
    ctx.fillRect(198, 75, 4, 450);
    ctx.fillRect(348, 75, 4, 450);
    ctx.fillRect(50, 223, 450, 4);
    ctx.fillRect(50, 373, 450, 4);
    ctx.fillRect(550, 545, 225, 4); 
    ctx.font = "20px Arial";
    if (display == "start") {
     ctx.fillText("Welcome to tic-tac-toe bot!", 550, 65);
     ctx.fillText("Type /commands for a list of", 550, 100);
     ctx.fillText("commands.", 550, 135);
    } else if (display == "list") {
     ctx.fillText("/startgame - start a game", 550, 65);
    }
    ctx.fillStyle = "#6e6e6e";
    ctx.font = "125px Arial";
    for (i = 0; i < 9; i++) {
     if (i < 3) {
      if (spots[(i * 2) - 1] == i) {
       ctx.fillStyle = "#222";
       ctx.fillText(spots[i * 2], 100 + (i * 150), 200);
      } else {
       ctx.fillStyle = "#666";
       ctx.fillText(i + 1, 100 + (i * 150), 200);
      }
     } else if (i < 6) {
      if (spots[(i * 2) - 1] == i) {
       ctx.fillStyle = "#222";
       ctx.fillText(spots[i * 2], 100 + ((i - 3) * 150), 200);
      } else {
       ctx.fillStyle = "#666";
       ctx.fillText(i + 1, 100 + ((i - 3) * 150), 350);
      }
     } else {
      if (spots[(i * 2) - 1] == i) {
       ctx.fillStyle = "#222";
       ctx.fillText(spots[i * 2], 100 + ((i - 6) * 150), 200);
      } else {
       ctx.fillStyle = "#666";
       ctx.fillText(i + 1, 100 + ((i - 6) * 150), 500);
      }
     }
    }
    if (command == "none") {
     ctx.fillStyle = "#666";
     ctx.font = "30px Arial";
     ctx.fillText("Type a command", 550, 535);
    }
   }
  </script>
 </head>
 <body style="text-align: center;" onload="init()">
 </body>
</html>
