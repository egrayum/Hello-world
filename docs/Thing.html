<html>
 <head>
  <canvas id="gameCanvas" style="width: 100%; height: 100%; background: #666;"></canvas>
  <script> 
   var c = document.getElementById("gameCanvas");
   var ctx = c.getContext("2d");
   var yVel = 0;
   var yPos = 300;
   var play = false;
   var isKeyDown = false;
   var score = 0;
   var interval;
   document.addEventListener("keydown", function(event) {
    if (event.keyCode == 88 && play == false) {
     play = true;
     score = 0;
     yPos = 0;
     yVel = 0;
     interval = window.setInterval(runGame, 20);
    } else if (event.keyCode == 38 && isKeyDown == false) {
     yVel = 10;
     isKeyDown = true;
    }
   })
   document.addEventListener("keyup", function(event) {
    if (event.keyCode == 38) {
     isKeyDown = false; 
    }
   })
   function init() {
    c.width = 800;
    c.height = 600;
    ctx.fillStyle = "#666";
    ctx.fillRect(0, 0, c.width, c.height);
    text();
    scorer();
   }
   function player() {
    ctx.fillStyle = "#000";
    ctx.fillRect(150, yPos, 40, 40);
   }
   function runGame() {
    ctx.fillStyle = "#666";
    ctx.fillRect(0, 0, c.width, c.height);
    yVel -= 0.4;
    yPos -= yVel;
    scorer();
    if (play == true) {
     player();
     ctx.fillStyle = "#222";
     ctx.fillRect(0, 520, c.width, 81);
    }
    if (yPos < 0 || yPos > 480 || play == false) {
     play = false; 
     text();
     window.clearInterval(interval);
     init();
    }
   }
   function text() {
    ctx.fillStyle = "#000";
    ctx.font = "50px Arial";
    ctx.fillText("Fragile Bird", 280, 200);
    ctx.font = "20px Arial";
    ctx.fillText("A flappy bird remake", 310, 230);
    ctx.fillText("Press X to start", 330, 260);
   }
   function scorer() {
    ctx.fillStyle = "#000";
    ctx.font = "20px Arial";
    ctx.fillText("Score: " + score, 10, 26);
   }
  </script>
 </head>
 <body onload="init()">
 </body>
</html>
