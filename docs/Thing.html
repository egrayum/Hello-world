<html>
 <head>
  <canvas id="gameCanvas" style="width: 100%; height: 100%; background: #666;"></canvas>
  <script> 
   var c = document.getElementById("gameCanvas");
   var ctx = c.getContext("2d");
   var yVel = 0;
   var yPos = 300;
   var play = false;
   var isKeyDown = false;
   var score = 0;
   var interval;
   document.addEventListener("keydown", function(event) {
    if (event.keyCode == 88 && play == false) {
     play = true;
     score = 0;
     yPos = 0;
     yVel = 0;
     interval = window.setInterval(runGame, 20);
    } else if (event.keyCode == 38 && isKeyDown == false) {
     yVel = 10;
     isKeyDown = true;
    }
   })
   document.addEventListener("keyup", function(event) {
    if (event.keyCode == 38) {
     isKeyDown = false; 
    }
   })
   function init() {
    c.width = 800;
    c.height = 600;
    alert("version 0.13");
    text();
    scorer();
   }
   function player() {
    ctx.fillStyle = "#000";
    ctx.fillRect(150, yPos, 50, 50);
   }
   function runGame() {
    ctx.fillStyle = "#666";
    ctx.fillRect(0, 0, c.width, c.height);
    yVel -= 0.4;
    yPos -= yVel;
    scorer();
    if (play == true) {
     player();
    }
    if (yPos < 0 || yPos > 550 || play == false) {
     play = false; 
     text();
     window.clearInterval(interval);12
    }
   }
   function text() {
    ctx.fillStyle = "#000";
    ctx.font = "50px Arial";
    ctx.fillText("Fragile Bird", 300, 300);
    ctx.font = "20px Arial";
    ctx.fillText("Press X to start", 320, 360);
   }
   function scorer() {
    ctx.fillStyle = "#000";
    ctx.font = "20px Arial";
    ctx.fillText("Score: " + score, 20, 30);
    ctx.fillText(play, 50, 50);
   }
  </script>
 </head>
 <body onload="init()">
 </body>
</html>
